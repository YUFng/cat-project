{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\acer2\\\\Downloads\\\\project\\\\cat-project\\\\frontend\\\\src\\\\components\\\\ProductList.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext } from '../components/AuthContext';\nimport '../styles/ProductList.css'; // Import the CSS file for styling\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ProductList() {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [products, setProducts] = useState([]);\n  const [cart, setCart] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchProducts();\n    if (user) {\n      axios.get('http://localhost:8080/cart', {\n        withCredentials: true\n      }).then(response => setCart(response.data)).catch(() => setCart([]));\n    }\n    const updateProductsListener = () => fetchProducts();\n    window.addEventListener('updateProducts', updateProductsListener);\n    return () => {\n      window.removeEventListener('updateProducts', updateProductsListener);\n    };\n  }, [user]);\n  const fetchProducts = () => {\n    axios.get('http://localhost:8080/products', {\n      withCredentials: true\n    }).then(response => setProducts(response.data)).catch(() => setProducts([]));\n  };\n  const handleAddToCart = (product, quantity) => {\n    if (!user) {\n      alert('Please log in to add items to your cart.');\n      return;\n    }\n    if (product.inventory <= 0) {\n      alert('This product is out of stock.');\n      return;\n    }\n    axios.post('http://localhost:8080/cart', {\n      product,\n      quantity\n    }, {\n      withCredentials: true\n    }).then(() => {\n      setCart([...cart, {\n        ...product,\n        cartItemId: `${product.id}-${Date.now()}`,\n        quantity\n      }]);\n      setProducts(products.map(p => p.id === product.id ? {\n        ...p,\n        inventory: p.inventory - quantity\n      } : p));\n      window.dispatchEvent(new Event('updateProducts'));\n    }).catch(console.error);\n  };\n  const handleSearch = event => setSearchTerm(event.target.value);\n  const handleCategorySelect = category => setSelectedCategory(category);\n  const filteredProducts = products.filter(product => product.name.toLowerCase().includes(searchTerm.toLowerCase()) && (selectedCategory === '' || product.category === selectedCategory));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"product-list-title\",\n      children: \"Explore Our Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filters\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search products...\",\n        value: searchTerm,\n        onChange: handleSearch,\n        className: \"search-bar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category-buttons\",\n        children: ['All', 'Rustic', 'Elegant', 'Custom'].map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleCategorySelect(category === 'All' ? '' : category.toLowerCase()),\n          className: `category-button ${selectedCategory === category.toLowerCase() ? 'active' : ''}`,\n          children: category\n        }, category, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-grid\",\n      children: filteredProducts.length > 0 ? filteredProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: product.image,\n          alt: product.name,\n          className: \"product-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"product-name\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"product-price\",\n          children: [\"$\", product.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"product-category\",\n          children: product.category\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-to-cart-button\",\n          onClick: () => handleAddToCart(product, 1),\n          children: \"Add to Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 29\n        }, this)]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"no-products-message\",\n        children: \"No products found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n_s(ProductList, \"qWuXQkbVmk/J/i24zfHgR0DJ5Ug=\", false, function () {\n  return [useNavigate];\n});\n_c = ProductList;\nexport default ProductList;\nvar _c;\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["React","useContext","useEffect","useState","useNavigate","axios","AuthContext","jsxDEV","_jsxDEV","ProductList","_s","user","products","setProducts","cart","setCart","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","navigate","fetchProducts","get","withCredentials","then","response","data","catch","updateProductsListener","window","addEventListener","removeEventListener","handleAddToCart","product","quantity","alert","inventory","post","cartItemId","id","Date","now","map","p","dispatchEvent","Event","console","error","handleSearch","event","target","value","handleCategorySelect","category","filteredProducts","filter","name","toLowerCase","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","onClick","length","src","image","alt","price","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/acer2/Downloads/project/cat-project/frontend/src/components/ProductList.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { AuthContext } from '../components/AuthContext';\r\nimport '../styles/ProductList.css'; // Import the CSS file for styling\r\n\r\nfunction ProductList() {\r\n    const { user } = useContext(AuthContext);\r\n    const [products, setProducts] = useState([]);\r\n    const [cart, setCart] = useState([]);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [selectedCategory, setSelectedCategory] = useState('');\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        fetchProducts();\r\n        if (user) {\r\n            axios.get('http://localhost:8080/cart', { withCredentials: true })\r\n                .then(response => setCart(response.data))\r\n                .catch(() => setCart([]));\r\n        }\r\n\r\n        const updateProductsListener = () => fetchProducts();\r\n        window.addEventListener('updateProducts', updateProductsListener);\r\n\r\n        return () => {\r\n            window.removeEventListener('updateProducts', updateProductsListener);\r\n        };\r\n    }, [user]);\r\n\r\n    const fetchProducts = () => {\r\n        axios.get('http://localhost:8080/products', { withCredentials: true })\r\n            .then(response => setProducts(response.data))\r\n            .catch(() => setProducts([]));\r\n    };\r\n\r\n    const handleAddToCart = (product, quantity) => {\r\n        if (!user) {\r\n            alert('Please log in to add items to your cart.');\r\n            return;\r\n        }\r\n\r\n        if (product.inventory <= 0) {\r\n            alert('This product is out of stock.');\r\n            return;\r\n        }\r\n\r\n        axios.post('http://localhost:8080/cart', { product, quantity }, { withCredentials: true })\r\n            .then(() => {\r\n                setCart([...cart, { ...product, cartItemId: `${product.id}-${Date.now()}`, quantity }]);\r\n                setProducts(products.map(p => p.id === product.id ? { ...p, inventory: p.inventory - quantity } : p));\r\n                window.dispatchEvent(new Event('updateProducts'));\r\n            })\r\n            .catch(console.error);\r\n    };\r\n\r\n    const handleSearch = (event) => setSearchTerm(event.target.value);\r\n    const handleCategorySelect = (category) => setSelectedCategory(category);\r\n\r\n    const filteredProducts = products.filter(product =>\r\n        product.name.toLowerCase().includes(searchTerm.toLowerCase()) &&\r\n        (selectedCategory === '' || product.category === selectedCategory)\r\n    );\r\n\r\n    return (\r\n        <div className=\"product-list-container\">\r\n            <h2 className=\"product-list-title\">Explore Our Products</h2>\r\n            <div className=\"filters\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search products...\"\r\n                    value={searchTerm}\r\n                    onChange={handleSearch}\r\n                    className=\"search-bar\"\r\n                />\r\n                <div className=\"category-buttons\">\r\n                    {['All', 'Rustic', 'Elegant', 'Custom'].map(category => (\r\n                        <button\r\n                            key={category}\r\n                            onClick={() => handleCategorySelect(category === 'All' ? '' : category.toLowerCase())}\r\n                            className={`category-button ${selectedCategory === category.toLowerCase() ? 'active' : ''}`}\r\n                        >\r\n                            {category}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            <div className=\"product-grid\">\r\n                {filteredProducts.length > 0 ? (\r\n                    filteredProducts.map(product => (\r\n                        <div key={product.id} className=\"product-card\">\r\n                            <img src={product.image} alt={product.name} className=\"product-image\" />\r\n                            <h3 className=\"product-name\">{product.name}</h3>\r\n                            <p className=\"product-price\">${product.price.toFixed(2)}</p>\r\n                            <p className=\"product-category\">{product.category}</p>\r\n                            <button\r\n                                className=\"add-to-cart-button\"\r\n                                onClick={() => handleAddToCart(product, 1)}\r\n                            >\r\n                                Add to Cart\r\n                            </button>\r\n                        </div>\r\n                    ))\r\n                ) : (\r\n                    <p className=\"no-products-message\">No products found.</p>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProductList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}